
local encoded_script = [[bG9jYWwgRmx1ZW50ID0gbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoImh0dHBzOi8vZ2l0aHViLmNvbS9kYXdpZC1zY3JpcHRzL0ZsdWVudC9yZWxlYXNlcy9sYXRlc3QvZG93bmxvYWQvbWFpbi5sdWEiKSkoKQoKbG9jYWwgQ29ycmVjdEtleSA9ICJud3h5IgoKCmxvY2FsIFdpbmRvdyA9IEZsdWVudDpDcmVhdGVXaW5kb3coewogICAgVGl0bGUgPSAiS2V5IFN5c3RlbSIsCiAgICBTdWJUaXRsZSA9ICJUaGnDqm4gS2jDtGkiLAogICAgVGFiV2lkdGggPSAxNjAsCiAgICBTaXplID0gVURpbTIuZnJvbU9mZnNldCg1MDAsIDQwMCksCiAgICBBY3J5bGljID0gZmFsc2UsCiAgICBUaGVtZSA9ICJEYXJrIgp9KQoKCmxvY2FsIE1haW5UYWIgPSBXaW5kb3c6QWRkVGFiKHsgVGl0bGUgPSAiS2V5IFZlcmlmaWNhdGlvbiIsIEljb24gPSAia2V5IiB9KQoKCmxvY2FsIEtleUlucHV0ID0gTWFpblRhYjpBZGRJbnB1dCgiS2V5SW5wdXQiLCB7CiAgICBUaXRsZSA9ICJFbnRlciBLZXkiLAogICAgUGxhY2Vob2xkZXIgPSAiVHlwZSB5b3VyIGtleSBoZXJlIiwKICAgIE51bWVyaWMgPSBmYWxzZSwgCiAgICBGaW5pc2hlZCA9IGZhbHNlCn0pCgpNYWluVGFiOkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJHZXQgS2V5IiwKICAgIERlc2NyaXB0aW9uID0gIktleSDhu58gxJHDonkgbsOoayAo4oGg4peN4oGg4oCi4oGg4bSX4oGg4oCi4oGg4peN4oGgKeKBoOKdpCIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBzZXRjbGlwYm9hcmQoImh0dHBzOi8vemFsby5tZS9nL3FxeHJjazYwMyIpCiAgICAgICAgRmx1ZW50Ok5vdGlmeSh7CiAgICAgICAgICAgIFRpdGxlID0gIkxpbmsgQ29waWVkIiwKICAgICAgICAgICAgQ29udGVudCA9ICIgQ29waWVkIHRvIGNsaXBib2FyZCEiLAogICAgICAgICAgICBEdXJhdGlvbiA9IDMKICAgICAgICB9KQogICAgZW5kCn0pCgpNYWluVGFiOkFkZEJ1dHRvbih7CiAgICBUaXRsZSA9ICJWZXJpZnkgS2V5IiwKICAgIERlc2NyaXB0aW9uID0gIkNoZWNrIGlmIHRoZSBrZXkgaXMgY29ycmVjdCIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2NhbCBFbnRlcmVkS2V5ID0gS2V5SW5wdXQuVmFsdWUgb3IgIiIKICAgICAgICBwcmludCgiQ2hlY2tpbmcgS2V5OiIsIEVudGVyZWRLZXkpCiAgICAgICAgaWYgRW50ZXJlZEtleSA9PSBDb3JyZWN0S2V5IHRoZW4KICAgICAgICAgICAgRmx1ZW50Ok5vdGlmeSh7CiAgICAgICAgICAgICAgICBUaXRsZSA9ICJTdWNjZXNzISIsCiAgICAgICAgICAgICAgICBDb250ZW50ID0gIktleSBpcyB2YWxpZC4gUnVubmluZyBzY3JpcHQuLi4iLAogICAgICAgICAgICAgICAgRHVyYXRpb24gPSAzCiAgICAgICAgICAgIH0pCgogICAgICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2tob2lsZTYyMS9TY3JpcHRUb25nSG9wVGhpZW5LaG9pL3JlZnMvaGVhZHMvbWFpbi9TY3JpcHRUb25nSG9wVGhpZW5LaG9pIikpKCkgCiAgICAgICAgICAgIHRhc2sud2FpdCgxKQogICAgICAgICAgICBXaW5kb3c6RGVzdHJveSgpCiAgICAgICAgZWxzZQogICAgICAgICAgICBGbHVlbnQ6Tm90aWZ5KHsKICAgICAgICAgICAgICAgIFRpdGxlID0gIkVycm9yISIsCiAgICAgICAgICAgICAgICBDb250ZW50ID0gIkludmFsaWQgS2V5ISBUcnkgYWdhaW4uIiwKICAgICAgICAgICAgICAgIER1cmF0aW9uID0gMwogICAgICAgICAgICB9KQogICAgICAgIGVuZAogICAgZW5kCn0p]]
local decoded_script = require("mime").unb64(encoded_script)
assert(load(decoded_script))()
